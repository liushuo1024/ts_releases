<!--
  Copyright (c) 2019 amr Inc. All rights reserved. 
-->

<launch>
  <param name="/use_sim_time" value="false" />

  <node name="cartographer_node" pkg="cartographer_ros" type="cartographer_node" args="
          -configuration_directory $(find amr_common)/config
          -configuration_basename amr_jackup_localization.lua
          -load_state_filename $(find amr_common)/slam_map/jackup_test.pbstream
          -start_trajectory_with_default_topics false" respawn="true" output="screen">
  </node>

  <!--TODO-->>
  <!-- <node name="rviz" pkg="rviz" type="rviz" args="-d $(find cartographer_ros)/configuration_files/amr_mapping.rviz" /> -->

  <node name="cartographer_start_trajectory" pkg="cartographer_ros" type="cartographer_start_trajectory" args="
          -configuration_directory $(find amr_common)/config
          -configuration_basename amr_jackup_localization.lua
          -initial_pose {to_trajectory_id=0.,relative_pose={translation={0.,0.,0.},rotation={0.,0.,0.}},timestamp=0.}" respawn="true" output="screen">
  </node>

  <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros" type="cartographer_occupancy_grid_node" args="-resolution 0.05" respawn="true" />

  <!-- <node name="rviz" pkg="rviz" type="rviz" args="-d $(find cartographer_ros)/configuration_files/amr_mapping.rviz" /> -->
  <node pkg="tf" type="static_transform_publisher" name="baselink_scan_1_broadcaster" args="0.380669 0.333679 0 0.821071 0 0 base_link laser1 35" respawn="true" />
  <node pkg="tf" type="static_transform_publisher" name="baselink_scan_2_broadcaster" args="-0.381981 -0.339011 0 -2.392134 0 0 base_link laser2 35" respawn="true"/>
</launch>
                                                                                